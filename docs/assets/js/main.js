"use strict";const inputSelect=document.querySelector(".js_select_form"),btnUpdate=document.querySelector(".js_btn_submit"),msgResult=document.querySelector(".js_result_msg"),restartBtn=document.querySelector(".js_restart_btn"),playerCounter=document.querySelector(".js_player_counter"),pcCounter=document.querySelector(".js_pc_counter"),totalCounter=document.querySelector(".js_counter_msg"),userImg=document.querySelector(".js_user_img"),pcImg=document.querySelector(".js_pc_img");let numberRounds=document.querySelector(".js_number_rounds");const classNames={resultPcImage:"result__display--pc--img",playBtnOff:"form__container--btn--off",hidden:"hidden"},srcImage={rock:"./assets/images/piedra.png",paper:"./assets/images/papel.png",scissors:"./assets/images/tijeras.png",placeholder:"./assets/images/placeholder.png"},message={tie:"¡Empate!",win:"¡Has ganado!",lost:"¡Has perdido!"},messageCounter={lastRoundTie:"Sólo te queda una tirada y hay un empate ¡Qué tensión!",lastRound:"¡Sólo te queda una tirada!",finishedTie:"Se ha acabado el juego ¡Habéis empatado!",finishedWin:"Se ha acabado el juego ¡Has ganado!",finishedLost:"Se ha acabado el juego ¡Has perdido!"},playName={rock:"Piedra",paper:"Papel",scissors:"Tijera"};let accPlayer=0,accPc=0,accTotal=0;function getSelectedValue(){return inputSelect.value}function getRandomNumber(e){return Math.ceil(Math.random()*e)}function generateRandomPlay(){pcImg.classList.remove(classNames.resultPcImage);const e=getRandomNumber(3);return 1===e?(pcImg.src=srcImage.rock,playName.rock):2===e?(pcImg.src=srcImage.paper,playName.paper):3===e?(pcImg.src=srcImage.scissors,playName.scissors):void 0}function compareResults(){const e=getSelectedValue(),a=generateRandomPlay();e===a?msgResult.innerHTML=message.tie:e===playName.rock&&a===playName.scissors||e===playName.paper&&a===playName.rock||e===playName.scissors&&a===playName.paper?(msgResult.innerHTML=message.win,accPlayer++,playerCounter.innerHTML=accPlayer):(e===playName.rock&&a===playName.paper||e===playName.paper&&a===playName.scissors||e===playName.scissors&&a===playName.rock)&&(msgResult.innerHTML=message.lost,accPc++,pcCounter.innerHTML=accPc)}function updateCounter(){accTotal++,numberRounds.innerHTML=10-accTotal,totalCounter.innerHTML=`Te quedan ${numberRounds.innerHTML} tiradas`,9===accTotal&&accPlayer===accPc?totalCounter.innerHTML=messageCounter.lastRoundTie:9===accTotal&&(totalCounter.innerHTML=messageCounter.lastRound),10===accTotal&&accPlayer===accPc?totalCounter.innerHTML=messageCounter.finishedTie:10===accTotal&&accPlayer>accPc?totalCounter.innerHTML=messageCounter.finishedWin:10===accTotal&&accPlayer<accPc&&(totalCounter.innerHTML=messageCounter.finishedLost),10===accTotal&&(btnUpdate.classList.add(classNames.playBtnOff),restartBtn.classList.remove(classNames.hidden))}function restartDefault(){accPlayer=0,accPc=0,accTotal=0,playerCounter.innerHTML=""+accPlayer,pcCounter.innerHTML=""+accPc,numberRounds.innerHTML=10,btnUpdate.classList.remove(classNames.playBtnOff),restartBtn.classList.add(classNames.hidden),totalCounter.innerHTML=`Te quedan ${numberRounds.innerHTML} tiradas`}function handleClickUpdate(e){e.preventDefault(),compareResults(),updateCounter()}function handleClickRestart(){restartDefault()}function handleChangeInput(){pcImg.src=srcImage.placeholder,pcImg.classList.add(classNames.resultPcImage),inputSelect.value===playName.rock?userImg.src=srcImage.rock:inputSelect.value===playName.paper?userImg.src=srcImage.paper:inputSelect.value===playName.scissors&&(userImg.src=srcImage.scissors)}numberRounds.innerHTML="10",btnUpdate.addEventListener("click",handleClickUpdate),restartBtn.addEventListener("click",handleClickRestart),inputSelect.addEventListener("click",handleChangeInput),btnUpdate.addEventListener("touchend",handleClickUpdate),restartBtn.addEventListener("touchend",handleClickRestart),inputSelect.addEventListener("touchend",handleChangeInput);